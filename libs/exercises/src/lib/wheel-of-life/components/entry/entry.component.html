<form [formGroup]="form">
	<section *ngFor="let aspect of aspectConfigs" class="aspects">
		<h3>{{ aspect.title }}</h3>
		<small>{{ aspect.subtitle }}</small>

		<article>
			<span>😭</span>
			<ion-range [formControlName]="aspect.id"></ion-range>
			<span>😁</span>
		</article>
	</section>

	<ion-button (click)="save()" [disabled]="form.pristine" color="primary" fill="clear">
		<ng-container *ngIf="save$ | async as status">

			<ng-container *ngIf="status === 'saved'">
				<span>SAVED</span>
				<ion-icon name="checkmark" slot="end"></ion-icon>
			</ng-container>

			<ng-container *ngIf="status === 'saving'">
				<span>Encrypting...</span>
			</ng-container>

			<ng-container *ngIf="status === 'save'">
				<span>SAVE</span>
			</ng-container>
		</ng-container>
	</ion-button>
</form>

<section class="results">
	<h2>Result</h2>
	<article>
		<canvas baseChart
			[datasets]="radarChartDatasets"
			[options]="radarChartOptions"
			[labels]="radarChartLabels"
			type="radar">
		</canvas>
	</article>

</section>