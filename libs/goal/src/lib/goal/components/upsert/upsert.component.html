<ion-header translucent>
  <ion-toolbar>

    <ion-buttons slot="end">
      <ion-button (click)="dismiss()">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  
    <ion-title>{{ mode === 'create' ? 'Create' : 'Edit'}} Goal</ion-title>

  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form [formGroup]="goalForm">

    <ion-item>
      <ion-label position="stacked">Title</ion-label>
      <ion-input formControlName="title" 
                 type="text"
                 autofocus></ion-input>
    </ion-item>
  
    <ion-item>
      <ion-label position="stacked">Short description</ion-label>
      <ion-textarea formControlName="shortDescription"
                    type="text"
                    maxlength="256"
                    autosize></ion-textarea>
    </ion-item>
  
    <ion-item>
      <ion-label position="stacked">Secret</ion-label>
      <ion-toggle formControlName="isSecret"></ion-toggle>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">End date &#40;optional&#41;</ion-label>
      <ion-datetime
        placeholder="-- -- --"
        displayFormat="DDDD DD MMMM YYYY"
        pickerFormat="DDDD MMMM YYYY" 
        formControlName="deadline"
        (click)="openingDatetime($event)"
      ></ion-datetime>
    </ion-item>

    <media-image-selector
      [form]="goalForm.image"
      [storagePath]="'goals/' + goalId"
      defaultImage="goal.jpg"  
    ></media-image-selector>
  </form>

  <ion-button (click)="upsert()" clear>{{ mode === 'create' ? 'Create' : 'Update'}}</ion-button>
</ion-content>