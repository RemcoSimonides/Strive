<ion-header mode="md">
  <ion-toolbar color="primary">

    <ion-buttons slot="end">
      <ion-button (click)="close()">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  
    <ion-title>{{ mode === 'create' ? 'Create' : 'Edit'}} Goal</ion-title>

  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ng-container *ngIf="mode === 'create' else update">
    <swiper #swiper [allowTouchMove]="false">
      <ng-template swiperSlide>
        <goal-slide-1 [form]="goalForm" [goalId]="goal.id" (stepper)="stepper($event)" (created)="created = $event" (focus)="focus = $event"></goal-slide-1>
      </ng-template>
      <ng-container *ngIf="focus">
        <ng-template swiperSlide>
          <goal-slide-2 [goalId]="goal.id" (stepper)="stepper($event)"></goal-slide-2>
        </ng-template>
      </ng-container>
      <ng-template swiperSlide>
        <goal-slide-3 [form]="goalForm" [goalId]="goal.id" (stepper)="stepper($event)"></goal-slide-3>
      </ng-template>
      <ng-template swiperSlide>
        <goal-slide-4 [goal]="goal" (stepper)="stepper($event)"></goal-slide-4>
      </ng-template>
      <ng-template swiperSlide>
        <goal-slide-5 [form]="goalForm" [goalId]="goal.id" (stepper)="stepper($event)"></goal-slide-5>
      </ng-template>
    </swiper>
  </ng-container>
</ion-content>

<ng-template #update swiperSlide>
  <goal-slide-update [form]="goalForm" [goalId]="goal.id"></goal-slide-update>
</ng-template>