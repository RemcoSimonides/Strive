<ion-card mode="md" button>
    <section>
        <ion-thumbnail [ngClass]="{'gradient-border': _stakeholder.focus.on }">
            <img [ref]="goal.image" asset="goal.png" [width]="60" [height]="60"/>
            <div *ngIf="goal.status !== 'pending'">finished</div>
        </ion-thumbnail>
        <article>
            <span>{{ goal.title }}</span>
            <ng-content></ng-content>
            <ion-progress-bar color="primary" [value]="goal | progress"></ion-progress-bar>
        </article>
        <ion-button *ngIf="_stakeholder.isAdmin || _stakeholder.isAchiever" fill="clear" size="small" (click)="openGoalOptions($event)">
            <ion-icon slot="icon-only" name="ellipsis-vertical"></ion-icon>
        </ion-button>
        <ul *ngIf="messages.length">
            <li *ngFor="let event of messages">
                <ion-icon [name]="event.icon"></ion-icon>
                <span [ngClass]="{'important': event.importance <= 2}">{{ event.message }}</span>
            </li>
        </ul>
    </section>
</ion-card>