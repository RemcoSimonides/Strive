<header>
  <ion-icon name="sparkles-outline" color="secondary" />
  <h5>Suggestion</h5>
</header>

<main>
  <ng-container *ngIf="view$ | async as view">

    <ng-container *ngIf="view.suggestions.length">
      <ol>
        <li *ngFor="let milestone of view.suggestions">{{ milestone }}</li>
      </ol>

      <ion-button class="secondary" (click)="apply(view.suggestions)" [disabled]="added$ | async">
        <ion-icon name="sparkles-outline" slot="start" color="secondary" />
        <span>USE SUGGESTION</span>
      </ion-button>
    </ng-container>

    <ng-container *ngIf="view.suggestion === 'asking'">
      <p>Generating suggestion{{ thinking$ | async }}</p>
    </ng-container>

    <ng-container *ngIf="view.suggestion === 'error'">
      <p>Something went wrong while generating a suggestion.</p>
    </ng-container>

    <ng-container *ngIf="view.suggestion !== 'asking' && view.suggestion !== 'error'">
      <article>{{ view.suggestion }}</article>
    </ng-container>
  </ng-container>
</main>
