<strive-header-root title="Exercises" color="primary"></strive-header-root>

<ion-content class="ion-padding">
  <main>
    <h1 *ngIf="(screensize.isMobile$ | async) === false">Exercises</h1>

    <section class="grid">
      <ng-container *ngFor="let exercise of exercises">
        <strive-small-thumbnail [title]="exercise.title" [asset]="exercise.image" [routerLink]="exercise.link">
          <ng-container [ngSwitch]="exercise.id">
            <ng-container *ngSwitchCase="'affirmations'">
              <article *ngIf="affirmations$ | async as setting">
                <small *ngIf="setting.affirmations?.length">{{ setting.affirmations.length }} {{ setting.affirmations.length === 1 ? 'Affirmation' : 'Affirmations' }} set</small>
              </article>
            </ng-container>

            <ng-container *ngSwitchCase="'dear_future_self'">
              <article *ngIf="dearFutureSelf$ | async as setting">
                <ng-container *ngIf="setting?.messages?.length">
                  <small>{{ (setting | received)?.length }}/{{ setting.messages.length }} Letters received</small>
                  <small *ngIf="setting | nextLetter as next">Next letter in {{ next.deliveryDate | timeToGo }}</small>
                </ng-container>
              </article>
            </ng-container>

            <ng-container *ngSwitchCase="'daily_gratefulness'">
              <article *ngIf="dailyGratefulness$ | async as setting">
                <small *ngIf="setting.on">Receiving daily at {{ setting.time | date:'shortTime'}}</small>
              </article>
            </ng-container>

            <ng-container *ngSwitchCase="'assess_life'">
              <article>
                <small>Coming Soon</small>
              </article>
            </ng-container>
          </ng-container>
        </strive-small-thumbnail>
      </ng-container>
    </section>
  </main>

</ion-content>