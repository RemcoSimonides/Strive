<ng-container *ngIf="pageIsLoading">
  <strive-page-loading></strive-page-loading>
</ng-container>

<ng-container *ngIf="!canAccess && !pageIsLoading">
  <strive-page-not-found></strive-page-not-found>
</ng-container>

<ng-container *ngIf="canAccess && !pageIsLoading">
  <ion-toolbar>
    <ion-segment (ionChange)="segmentChanged($event)" class="ion-align-self-center">
      <ion-segment-button value="Goal" checked>
        Goal
      </ion-segment-button>
      <ion-segment-button value="Roadmap">
        Roadmap
      </ion-segment-button>
      <ion-segment-button value="Posts">
        Posts
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ng-container>

<ion-content class="ion-no-padding" [ngSwitch]="segmentChoice" *ngIf="canAccess && !pageIsLoading">

  <section *ngSwitchCase="'Goal'" class="vertical-align-content">
    <journal-goal></journal-goal>
  </section>

  <!-- Roadmap -->
  <section *ngSwitchCase="'Roadmap'" class="vertical-align-content">
    <app-default-roadmap [goalId]="goalId"></app-default-roadmap>
  </section>

  <!-- Posts -->
  <section *ngSwitchCase="'Posts'" class="vertical-align-content">
    <journal-goal-posts [goal]="goal"></journal-goal-posts>
  </section>

</ion-content>
