<ng-container *ngIf="screensize.isMobile$ | async">
  <ion-header>

    <!-- <ng-container *ngIf="(screensize.isDesktop$ | async) === false">
      <ion-toolbar [myScrollVanish]="scrollArea" color="primary">
        <ion-buttons slot="start">
          <ion-menu-button></ion-menu-button>
          <ion-back-button></ion-back-button>
        </ion-buttons>
        <ion-title>Explore</ion-title>
      </ion-toolbar>
    </ng-container> -->
  
    <ion-toolbar>
      <ion-buttons slot="start">
        <!-- <ion-menu-button></ion-menu-button> -->
        <ion-back-button></ion-back-button>
      </ion-buttons>
      <ion-searchbar (ionChange)="search($event)" placeholder='Try "Plastic free"'></ion-searchbar>
    </ion-toolbar>
  
  </ion-header>
</ng-container>


<ion-content class="ion-no-padding" #scrollArea scrollEvents="true">

  <div class="max-width">
    <h3>Goals</h3>
    <thumbnail-list type="goal" [width]="250">
      <ng-container *ngFor="let rows of algolia.goalResults | async | rows:2">
        <ng-template #thumb>
          <section fxFlex class="small-thumbnail-column" fxLayout="column" fxLayoutGap="16px">
            <ng-container *ngFor="let goal of rows; let i = index">
              <small-thumbnail [title]="goal.title" [image]="goal.image" asset="goal.jpg" [routerLink]="'/goal/' + goal.id">
                <small>{{ goal.numberOfAchievers }} Achiever{goal.numberOfAchievers, plural, =1 {} other {s}}</small>
              </small-thumbnail>
            </ng-container>
          </section>

        </ng-template>
      </ng-container>
    </thumbnail-list>

    <h3>Collective Goals</h3>
    <thumbnail-list type="collectiveGoal" [width]="250">
      <ng-container *ngFor="let collectiveGoal of algolia.collectiveGoalResults | async">
        <ng-template #thumb>
          <large-thumbnail [title]="collectiveGoal.title" [image]="collectiveGoal.image" asset="collective-goal.jpg" [routerLink]="'/collective-goal/' + collectiveGoal.id">
          </large-thumbnail>
        </ng-template>
      </ng-container>
    </thumbnail-list>

    <banner></banner>

    <h3>Users</h3>
    <thumbnail-list type="user" [width]="250">
      <ng-container *ngFor="let rows of algolia.profileResults | async | rows:2">
        <ng-template #thumb>
          <section fxFlex class="small-thumbnail-column" fxLayout="column" fxLayoutGap="16px">
            <ng-container *ngFor="let profile of rows">
              <small-thumbnail [title]="profile.username" [image]="profile.photoURL" asset="profile.png" [routerLink]="'/profile/' + profile.uid" borderRadius="50%"></small-thumbnail>
            </ng-container>
          </section>
        </ng-template>
      </ng-container>
    </thumbnail-list>

    <section fxLayout fxLayoutAlign="center">
      <img asset="search-by-algolia-light-background.svg"/>
    </section>
  </div>
</ion-content>